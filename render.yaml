services:
  - type: web
    name: expense-tracker-api
    runtime: docker
    plan: free
    region: singapore
    env: docker
    dockerfilePath: ./Dockerfile
    dockerContext: .
    envVars:
      - key: ASPNETCORE_ENVIRONMENT
        value: Production
      - key: PORT
        value: 8080
      # Database Configuration - Set these in Render Dashboard as secrets
      - key: HOST
        sync: false
      - key: PORT_DB
        value: 5432
      - key: DATABASE
        sync: false
      - key: USERNAME
        sync: false
      - key: PASSWORD
        sync: false
      - key: SSL_MODE
        value: Require
      - key: COMMAND_TIMEOUT
        value: 30
      - key: APPLICATION_NAME
        value: expense_backend
    healthCheckPath: /health